<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Terms</title>
  <link rel="stylesheet" href="assets/css/style.css" />
  <script defer src="assets/js/app.js"></script>

</head>

<body>

  <nav class="site">
    <div class="container inner">
      <a class="brand" href="index.html">
        <div class="logo">CS</div>
        <div>Indian Civic Sense</div>
      </a>
      <ul>
        <li><a href="upload.html">Report</a></li>
        <li><a href="gallery.html">Gallery</a></li>
        <li><a href="leaderboard.html">Leaderboard</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
      <div style="display:flex; gap:.5rem; align-items:center">
        <span id="nav-user" class="badge" style="display:none"></span>
        <a id="login-link" class="btn secondary" href="login.html">Login</a>
        <a id="reg-link" class="btn" href="register.html">Sign up</a>
      </div>
    </div>
  </nav>
  <script>
    (function () {
      const u = IP.currentUser();
      const navUser = document.getElementById("nav-user");
      if (u) {
        navUser.style.display = "inline-block";
        navUser.textContent = u.name || u.email;
        const login = document.querySelector('a[href="login.html"]');
        const reg = document.querySelector('a[href="register.html"]');
        if (login) login.outerHTML = '<button class="btn secondary" onclick="IP.logout()">Logout</button>';
        if (reg) reg.remove();
      }
      const here = location.pathname.split('/').pop();
      document.querySelectorAll("nav a").forEach(a => {
        if (a.getAttribute("href") === here) a.classList.add("active");
      });
    })();
  </script>


  <section>
    <div class="container">
      <h2>Terms (Demo)</h2>
      <p class="help">This fork is provided as-is, without warranties. Replace this page with your real Terms of
        Service.</p>
    </div>
  </section>


  <footer>
    <div class="container grid">
      <div><strong>Indian Civic Sense</strong><br>
        <small class="muted">This is an independent, front‑end‑only code for demo/testing.</small>
      </div>
      <div class="links">
        <a href="terms.html">Terms</a> ·
        <a href="legal.html">Legal</a>
      </div>
    </div>
  </footer>
  <script>
    (function () {
      const token = localStorage.getItem('token');
      const navUser = document.getElementById('nav-user');
      const loginLink = document.getElementById('login-link');
      const regLink = document.getElementById('reg-link');

      if (token) {
        // Show username
        navUser.style.display = 'inline-block';
        navUser.textContent = localStorage.getItem('username') || 'User';

        // Replace login with logout
        if (loginLink) {
          loginLink.outerHTML = '<button onclick="logout()" class="btn secondary">Logout</button>';
        }

        // Remove signup link
        if (regLink) {
          regLink.remove();
        }
      }

      // Logout function
      window.logout = function () {
        localStorage.removeItem('token');
        localStorage.removeItem('username');
        location.reload();
      };
    })();
  </script>

</body>

</html>